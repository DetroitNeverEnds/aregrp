{
  "openapi": "3.1.0",
  "info": {
    "title": "API",
    "version": "1.0.0",
    "description": "Main API for the project"
  },
  "paths": {
    "/api/v1/auth/register": {
      "post": {
        "operationId": "apps_accounts_routers_auth_register",
        "summary": "Регистрация пользователя",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthOut"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          }
        },
        "description": "Создаёт пользователя (individual или agent). Для агентов обязательны organization_name и inn. Возвращает JWT токены; опционально use_cookies.",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserRegistrationIn"
              }
            }
          },
          "required": true
        }
      }
    },
    "/api/v1/auth/login": {
      "post": {
        "operationId": "apps_accounts_routers_auth_login_user",
        "summary": "Вход в систему",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthOut"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          }
        },
        "description": "Аутентификация по email и паролю. Возвращает access и refresh токены; опционально use_cookies.",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserLoginIn"
              }
            }
          },
          "required": true
        }
      }
    },
    "/api/v1/auth/logout": {
      "post": {
        "operationId": "apps_accounts_routers_auth_logout_user",
        "summary": "Выход из системы",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response",
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          }
        },
        "description": "Завершает сессию: удаляет access и refresh токены из HTTP-Only cookies. Требует JWT.",
        "tags": [
          "Authentication"
        ],
        "security": [
          {
            "JWTAuth": []
          }
        ]
      }
    },
    "/api/v1/auth/refresh-token": {
      "post": {
        "operationId": "apps_accounts_routers_auth_refresh_token",
        "summary": "Обновить JWT токены",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response",
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          }
        },
        "description": "Обновляет access и refresh токены по refresh токену из HTTP-Only cookie. Новые токены возвращаются в теле и в cookies.",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/v1/auth/password-reset": {
      "post": {
        "operationId": "apps_accounts_routers_auth_password_reset",
        "summary": "Запрос сброса пароля",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response",
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          }
        },
        "description": "Отправляет письмо со ссылкой для сброса пароля на указанный email. При отсутствии пользователя возвращает тот же успешный ответ (без раскрытия факта).",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordResetIn"
              }
            }
          },
          "required": true
        }
      }
    },
    "/api/v1/auth/password-reset/confirm": {
      "post": {
        "operationId": "apps_accounts_routers_auth_password_reset_confirm",
        "summary": "Подтверждение сброса пароля",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response",
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          }
        },
        "description": "Устанавливает новый пароль по токену из письма. Параметры: token, new_password1, new_password2.",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordResetConfirmIn"
              }
            }
          },
          "required": true
        }
      }
    },
    "/api/v1/profile/user": {
      "get": {
        "operationId": "apps_accounts_routers_profile_get_user",
        "summary": "Получить данные текущего пользователя",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserOut"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          }
        },
        "description": "Возвращает информацию о текущем авторизованном пользователе. Требует Bearer JWT в заголовке Authorization.",
        "tags": [
          "Profile"
        ],
        "security": [
          {
            "JWTAuth": []
          }
        ]
      }
    },
    "/api/v1/profile/profile": {
      "put": {
        "operationId": "apps_accounts_routers_profile_update_profile",
        "summary": "Обновить профиль пользователя",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserOut"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          }
        },
        "description": "Обновляет данные профиля: full_name, email, phone; для агентов — organization_name, inn. Требует JWT.",
        "tags": [
          "Profile"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProfileIn"
              }
            }
          },
          "required": true
        },
        "security": [
          {
            "JWTAuth": []
          }
        ]
      }
    },
    "/api/v1/profile/change-password": {
      "post": {
        "operationId": "apps_accounts_routers_profile_change_password",
        "summary": "Смена пароля",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response",
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          }
        },
        "description": "Меняет пароль авторизованного пользователя. Требует текущий пароль и дважды новый. Требует JWT.",
        "tags": [
          "Profile"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePasswordIn"
              }
            }
          },
          "required": true
        },
        "security": [
          {
            "JWTAuth": []
          }
        ]
      }
    },
    "/api/v1/site-settings/main-info": {
      "get": {
        "operationId": "apps_site_settings_routers_get_main_settings",
        "summary": "Получить основные настройки сайта",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MainSettingsOut"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          }
        },
        "description": "Возвращает основные настройки: контакты (phone, display_phone, email, whatsapp_link, telegram_link), описание, название организации (org_name), ИНН.",
        "tags": [
          "Site Settings"
        ]
      }
    },
    "/api/v1/site-settings/contacts": {
      "get": {
        "operationId": "apps_site_settings_routers_get_contacts_settings",
        "summary": "Получить настройки контактов",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContactsSettingsOut"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          }
        },
        "description": "Возвращает реквизиты и офис из ContactsSettings: ОГРН, юридический адрес, координаты (lat/lng), адрес офиса продаж.",
        "tags": [
          "Site Settings"
        ]
      }
    },
    "/api/v1/premises/buildings": {
      "get": {
        "operationId": "apps_re_objects_routers_building_list",
        "summary": "Список зданий для фильтра",
        "parameters": [
          {
            "in": "query",
            "name": "sale_type",
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "rent — только с помещениями под аренду, sale — под продажу",
              "title": "Sale Type"
            },
            "required": false,
            "description": "rent — только с помещениями под аренду, sale — под продажу"
          },
          {
            "in": "query",
            "name": "available",
            "schema": {
              "default": true,
              "description": "Только здания со свободными помещениями (true) или с занятыми (false)",
              "title": "Available",
              "type": "boolean"
            },
            "required": false,
            "description": "Только здания со свободными помещениями (true) или с занятыми (false)"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/BuildingOptionOut"
                  },
                  "title": "Response",
                  "type": "array"
                }
              }
            }
          }
        },
        "description": "Здания, у которых есть помещения (с учётом sale_type и available). Фронт запрашивает один раз и подставляет в чекбоксы «бизнес-центры».",
        "tags": [
          "Premises"
        ]
      }
    },
    "/api/v1/premises": {
      "get": {
        "operationId": "apps_re_objects_routers_premise_list",
        "summary": "Список помещений с фильтрами и пагинацией",
        "parameters": [
          {
            "in": "query",
            "name": "sale_type",
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "rent — аренда, sale — продажа",
              "title": "Sale Type"
            },
            "required": false,
            "description": "rent — аренда, sale — продажа"
          },
          {
            "in": "query",
            "name": "available",
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "description": "true — свободные, false — занятые; по умолчанию true",
              "title": "Available"
            },
            "required": false,
            "description": "true — свободные, false — занятые; по умолчанию true"
          },
          {
            "in": "query",
            "name": "building",
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Поиск по адресу или названию здания",
              "title": "Building"
            },
            "required": false,
            "description": "Поиск по адресу или названию здания"
          },
          {
            "in": "query",
            "name": "building_uuids",
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Фильтр по UUID зданий (через запятую)",
              "title": "Building Uuids"
            },
            "required": false,
            "description": "Фильтр по UUID зданий (через запятую)"
          },
          {
            "in": "query",
            "name": "min_price",
            "schema": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Минимальная цена, ₽/мес",
              "title": "Min Price"
            },
            "required": false,
            "description": "Минимальная цена, ₽/мес"
          },
          {
            "in": "query",
            "name": "max_price",
            "schema": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Максимальная цена, ₽/мес",
              "title": "Max Price"
            },
            "required": false,
            "description": "Максимальная цена, ₽/мес"
          },
          {
            "in": "query",
            "name": "min_area",
            "schema": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Минимальная площадь, м²",
              "title": "Min Area"
            },
            "required": false,
            "description": "Минимальная площадь, м²"
          },
          {
            "in": "query",
            "name": "max_area",
            "schema": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Максимальная площадь, м²",
              "title": "Max Area"
            },
            "required": false,
            "description": "Максимальная площадь, м²"
          },
          {
            "in": "query",
            "name": "order_by",
            "schema": {
              "default": "default",
              "description": "default|price_asc|price_desc|area_asc|area_desc",
              "title": "Order By",
              "type": "string"
            },
            "required": false,
            "description": "default|price_asc|price_desc|area_asc|area_desc"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "default": 1,
              "description": "Номер страницы",
              "minimum": 1,
              "title": "Page",
              "type": "integer"
            },
            "required": false,
            "description": "Номер страницы"
          },
          {
            "in": "query",
            "name": "page_size",
            "schema": {
              "default": 20,
              "description": "Размер страницы",
              "maximum": 100,
              "minimum": 1,
              "title": "Page Size",
              "type": "integer"
            },
            "required": false,
            "description": "Размер страницы"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PremiseListResponse"
                }
              }
            }
          }
        },
        "description": "Фильтры: sale_type (rent|sale), available (true/false — свободно/занято), building (поиск по тексту), building_uuids (UUID зданий через запятую), min_price, max_price, min_area, max_area. Сортировка: order_by. Пагинация: page, page_size.",
        "tags": [
          "Premises"
        ]
      }
    },
    "/api/v1/premises/rent": {
      "get": {
        "operationId": "apps_re_objects_routers_premise_list_rent",
        "summary": "Список помещений для аренды",
        "parameters": [
          {
            "in": "query",
            "name": "available",
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "description": "true — свободные, false — занятые; по умолчанию true",
              "title": "Available"
            },
            "required": false,
            "description": "true — свободные, false — занятые; по умолчанию true"
          },
          {
            "in": "query",
            "name": "building",
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Поиск по адресу или названию здания",
              "title": "Building"
            },
            "required": false,
            "description": "Поиск по адресу или названию здания"
          },
          {
            "in": "query",
            "name": "building_uuids",
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Фильтр по UUID зданий (через запятую)",
              "title": "Building Uuids"
            },
            "required": false,
            "description": "Фильтр по UUID зданий (через запятую)"
          },
          {
            "in": "query",
            "name": "min_price",
            "schema": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Минимальная цена, ₽/мес",
              "title": "Min Price"
            },
            "required": false,
            "description": "Минимальная цена, ₽/мес"
          },
          {
            "in": "query",
            "name": "max_price",
            "schema": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Максимальная цена, ₽/мес",
              "title": "Max Price"
            },
            "required": false,
            "description": "Максимальная цена, ₽/мес"
          },
          {
            "in": "query",
            "name": "min_area",
            "schema": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Минимальная площадь, м²",
              "title": "Min Area"
            },
            "required": false,
            "description": "Минимальная площадь, м²"
          },
          {
            "in": "query",
            "name": "max_area",
            "schema": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Максимальная площадь, м²",
              "title": "Max Area"
            },
            "required": false,
            "description": "Максимальная площадь, м²"
          },
          {
            "in": "query",
            "name": "order_by",
            "schema": {
              "default": "default",
              "description": "default|price_asc|price_desc|area_asc|area_desc",
              "title": "Order By",
              "type": "string"
            },
            "required": false,
            "description": "default|price_asc|price_desc|area_asc|area_desc"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "default": 1,
              "description": "Номер страницы",
              "minimum": 1,
              "title": "Page",
              "type": "integer"
            },
            "required": false,
            "description": "Номер страницы"
          },
          {
            "in": "query",
            "name": "page_size",
            "schema": {
              "default": 20,
              "description": "Размер страницы",
              "maximum": 100,
              "minimum": 1,
              "title": "Page Size",
              "type": "integer"
            },
            "required": false,
            "description": "Размер страницы"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PremiseListResponse"
                }
              }
            }
          }
        },
        "description": "То же, что GET /premises?sale_type=rent. Остальные фильтры и пагинация — как у общего списка.",
        "tags": [
          "Premises"
        ]
      }
    },
    "/api/v1/premises/sale": {
      "get": {
        "operationId": "apps_re_objects_routers_premise_list_sale",
        "summary": "Список помещений для продажи",
        "parameters": [
          {
            "in": "query",
            "name": "available",
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "description": "true — свободные, false — занятые; по умолчанию true",
              "title": "Available"
            },
            "required": false,
            "description": "true — свободные, false — занятые; по умолчанию true"
          },
          {
            "in": "query",
            "name": "building",
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Поиск по адресу или названию здания",
              "title": "Building"
            },
            "required": false,
            "description": "Поиск по адресу или названию здания"
          },
          {
            "in": "query",
            "name": "building_uuids",
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Фильтр по UUID зданий (через запятую)",
              "title": "Building Uuids"
            },
            "required": false,
            "description": "Фильтр по UUID зданий (через запятую)"
          },
          {
            "in": "query",
            "name": "min_price",
            "schema": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Минимальная цена, ₽/мес",
              "title": "Min Price"
            },
            "required": false,
            "description": "Минимальная цена, ₽/мес"
          },
          {
            "in": "query",
            "name": "max_price",
            "schema": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Максимальная цена, ₽/мес",
              "title": "Max Price"
            },
            "required": false,
            "description": "Максимальная цена, ₽/мес"
          },
          {
            "in": "query",
            "name": "min_area",
            "schema": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Минимальная площадь, м²",
              "title": "Min Area"
            },
            "required": false,
            "description": "Минимальная площадь, м²"
          },
          {
            "in": "query",
            "name": "max_area",
            "schema": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Максимальная площадь, м²",
              "title": "Max Area"
            },
            "required": false,
            "description": "Максимальная площадь, м²"
          },
          {
            "in": "query",
            "name": "order_by",
            "schema": {
              "default": "default",
              "description": "default|price_asc|price_desc|area_asc|area_desc",
              "title": "Order By",
              "type": "string"
            },
            "required": false,
            "description": "default|price_asc|price_desc|area_asc|area_desc"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "default": 1,
              "description": "Номер страницы",
              "minimum": 1,
              "title": "Page",
              "type": "integer"
            },
            "required": false,
            "description": "Номер страницы"
          },
          {
            "in": "query",
            "name": "page_size",
            "schema": {
              "default": 20,
              "description": "Размер страницы",
              "maximum": 100,
              "minimum": 1,
              "title": "Page Size",
              "type": "integer"
            },
            "required": false,
            "description": "Размер страницы"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PremiseListResponse"
                }
              }
            }
          }
        },
        "description": "То же, что GET /premises?sale_type=sale. Остальные фильтры и пагинация — как у общего списка.",
        "tags": [
          "Premises"
        ]
      }
    },
    "/api/v1/premises/{premise_uuid}": {
      "get": {
        "operationId": "apps_re_objects_routers_premise_detail",
        "summary": "Детальная информация о помещении",
        "parameters": [
          {
            "in": "path",
            "name": "premise_uuid",
            "schema": {
              "format": "uuid",
              "title": "Premise Uuid",
              "type": "string"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PremiseDetailOut"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          }
        },
        "description": "Возвращает одну запись по UUID или 404 (ProblemDetail), только статус AVAILABLE.",
        "tags": [
          "Premises"
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "AuthOut": {
        "properties": {
          "user": {
            "$ref": "#/components/schemas/UserOut"
          },
          "access_token": {
            "title": "Access Token",
            "type": "string"
          },
          "refresh_token": {
            "title": "Refresh Token",
            "type": "string"
          },
          "message": {
            "title": "Message",
            "type": "string"
          },
          "use_cookies": {
            "title": "Use Cookies",
            "type": "boolean"
          }
        },
        "required": [
          "user",
          "access_token",
          "refresh_token",
          "message",
          "use_cookies"
        ],
        "title": "AuthOut",
        "type": "object"
      },
      "UserOut": {
        "properties": {
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "username": {
            "title": "Username",
            "type": "string"
          },
          "email": {
            "title": "Email",
            "type": "string"
          },
          "user_type": {
            "title": "User Type",
            "type": "string"
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone"
          },
          "organization_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Organization Name"
          },
          "inn": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Inn"
          }
        },
        "required": [
          "id",
          "username",
          "email",
          "user_type"
        ],
        "title": "UserOut",
        "type": "object"
      },
      "ErrorCode": {
        "description": "Enum для кодов ошибок API.\n\nВсе коды ошибок должны быть определены здесь.",
        "enum": [
          "ACCOUNTS_INVALID_CREDENTIALS",
          "ACCOUNTS_EMAIL_EXISTS",
          "ACCOUNTS_PHONE_EXISTS",
          "ACCOUNTS_PASSWORD_MISMATCH",
          "ACCOUNTS_PASSWORD_VALIDATION_FAILED",
          "ACCOUNTS_INVALID_USER_TYPE",
          "ACCOUNTS_MISSING_ORGANIZATION_NAME",
          "ACCOUNTS_MISSING_INN",
          "ACCOUNTS_UNAUTHORIZED",
          "ACCOUNTS_TOKEN_EXPIRED",
          "ACCOUNTS_INVALID_TOKEN",
          "ACCOUNTS_NO_REFRESH_TOKEN",
          "ACCOUNTS_USER_NOT_FOUND",
          "ACCOUNTS_EMAIL_ALREADY_USED",
          "ACCOUNTS_PHONE_ALREADY_USED",
          "ACCOUNTS_INVALID_CURRENT_PASSWORD",
          "ACCOUNTS_REGISTRATION_ERROR",
          "ACCOUNTS_LOGIN_ERROR",
          "ACCOUNTS_PASSWORD_RESET_ERROR",
          "ACCOUNTS_PASSWORD_RESET_TOKEN_INVALID",
          "ACCOUNTS_PASSWORD_RESET_TOKEN_EXPIRED",
          "FEEDBACK_NOT_FOUND",
          "FEEDBACK_CREATION_ERROR",
          "FEEDBACK_UPDATE_ERROR",
          "FEEDBACK_DELETE_ERROR",
          "FEEDBACK_VALIDATION_ERROR",
          "SITE_SETTINGS_NOT_FOUND",
          "SITE_SETTINGS_ERROR",
          "RE_OBJECTS_NOT_FOUND"
        ],
        "title": "ErrorCode",
        "type": "string"
      },
      "ProblemDetail": {
        "description": "Формат ошибок по RFC 7807 (Problem Details for HTTP APIs).\n\nИспользуется для стандартизации всех ошибок API.",
        "properties": {
          "type": {
            "title": "Type",
            "type": "string"
          },
          "status": {
            "title": "Status",
            "type": "integer"
          },
          "title": {
            "title": "Title",
            "type": "string"
          },
          "detail": {
            "title": "Detail",
            "type": "string"
          },
          "instance": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Instance"
          },
          "code": {
            "$ref": "#/components/schemas/ErrorCode"
          }
        },
        "required": [
          "type",
          "status",
          "title",
          "detail",
          "code"
        ],
        "title": "ProblemDetail",
        "type": "object"
      },
      "UserRegistrationIn": {
        "properties": {
          "user_type": {
            "title": "User Type",
            "type": "string"
          },
          "full_name": {
            "title": "Full Name",
            "type": "string"
          },
          "email": {
            "title": "Email",
            "type": "string"
          },
          "phone": {
            "title": "Phone",
            "type": "string"
          },
          "password1": {
            "title": "Password1",
            "type": "string"
          },
          "password2": {
            "title": "Password2",
            "type": "string"
          },
          "use_cookies": {
            "default": false,
            "title": "Use Cookies",
            "type": "boolean"
          },
          "organization_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Organization Name"
          },
          "inn": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Inn"
          }
        },
        "required": [
          "user_type",
          "full_name",
          "email",
          "phone",
          "password1",
          "password2"
        ],
        "title": "UserRegistrationIn",
        "type": "object"
      },
      "UserLoginIn": {
        "properties": {
          "email": {
            "title": "Email",
            "type": "string"
          },
          "password": {
            "title": "Password",
            "type": "string"
          },
          "use_cookies": {
            "default": false,
            "title": "Use Cookies",
            "type": "boolean"
          }
        },
        "required": [
          "email",
          "password"
        ],
        "title": "UserLoginIn",
        "type": "object"
      },
      "PasswordResetIn": {
        "properties": {
          "email": {
            "title": "Email",
            "type": "string"
          }
        },
        "required": [
          "email"
        ],
        "title": "PasswordResetIn",
        "type": "object"
      },
      "PasswordResetConfirmIn": {
        "properties": {
          "token": {
            "title": "Token",
            "type": "string"
          },
          "new_password1": {
            "title": "New Password1",
            "type": "string"
          },
          "new_password2": {
            "title": "New Password2",
            "type": "string"
          }
        },
        "required": [
          "token",
          "new_password1",
          "new_password2"
        ],
        "title": "PasswordResetConfirmIn",
        "type": "object"
      },
      "UpdateProfileIn": {
        "properties": {
          "full_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone"
          },
          "organization_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Organization Name"
          },
          "inn": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Inn"
          }
        },
        "title": "UpdateProfileIn",
        "type": "object"
      },
      "UpdatePasswordIn": {
        "properties": {
          "current_password": {
            "title": "Current Password",
            "type": "string"
          },
          "new_password1": {
            "title": "New Password1",
            "type": "string"
          },
          "new_password2": {
            "title": "New Password2",
            "type": "string"
          }
        },
        "required": [
          "current_password",
          "new_password1",
          "new_password2"
        ],
        "title": "UpdatePasswordIn",
        "type": "object"
      },
      "MainSettingsOut": {
        "description": "Схема для возврата основных настроек сайта.",
        "properties": {
          "phone": {
            "title": "Phone",
            "type": "string"
          },
          "display_phone": {
            "title": "Display Phone",
            "type": "string"
          },
          "email": {
            "title": "Email",
            "type": "string"
          },
          "whatsapp_link": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Whatsapp Link"
          },
          "telegram_link": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Telegram Link"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "org_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Org Name"
          },
          "inn": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Inn"
          }
        },
        "required": [
          "phone",
          "display_phone",
          "email"
        ],
        "title": "MainSettingsOut",
        "type": "object"
      },
      "ContactsSettingsOut": {
        "description": "Схема для возврата настроек контактов.",
        "properties": {
          "ogrn": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ogrn"
          },
          "legal_address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Legal Address"
          },
          "coordinates": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CoordinatesOut"
              },
              {
                "type": "null"
              }
            ]
          },
          "sales_center_address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sales Center Address"
          }
        },
        "title": "ContactsSettingsOut",
        "type": "object"
      },
      "CoordinatesOut": {
        "description": "Точка на карте (для JSON).",
        "properties": {
          "lat": {
            "title": "Lat",
            "type": "number"
          },
          "lng": {
            "title": "Lng",
            "type": "number"
          }
        },
        "required": [
          "lat",
          "lng"
        ],
        "title": "CoordinatesOut",
        "type": "object"
      },
      "BuildingOptionOut": {
        "description": "Здание для фильтра (чекбоксы «бизнес-центры»): uuid, название, адрес.",
        "properties": {
          "uuid": {
            "title": "Uuid",
            "type": "string"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "address": {
            "title": "Address",
            "type": "string"
          }
        },
        "required": [
          "uuid",
          "name",
          "address"
        ],
        "title": "BuildingOptionOut",
        "type": "object"
      },
      "MediaPhotoOut": {
        "description": "Один элемент фото в блоке медиа помещения.",
        "properties": {
          "url": {
            "title": "Url",
            "type": "string"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "is_primary": {
            "default": false,
            "title": "Is Primary",
            "type": "boolean"
          }
        },
        "required": [
          "url"
        ],
        "title": "MediaPhotoOut",
        "type": "object"
      },
      "MediaVideoOut": {
        "description": "Один элемент видео в блоке медиа помещения (пока не используется).",
        "properties": {
          "url": {
            "title": "Url",
            "type": "string"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          }
        },
        "required": [
          "url"
        ],
        "title": "MediaVideoOut",
        "type": "object"
      },
      "PremiseListOut": {
        "description": "Помещение в списке (карточка в выдаче).",
        "properties": {
          "uuid": {
            "title": "Uuid",
            "type": "string"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "price": {
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Price",
            "type": "string"
          },
          "address": {
            "title": "Address",
            "type": "string"
          },
          "floor": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Floor"
          },
          "area": {
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Area",
            "type": "string"
          },
          "has_tenant": {
            "title": "Has Tenant",
            "type": "boolean"
          },
          "media": {
            "$ref": "#/components/schemas/PremiseMediaOut"
          }
        },
        "required": [
          "uuid",
          "name",
          "price",
          "address",
          "area",
          "has_tenant",
          "media"
        ],
        "title": "PremiseListOut",
        "type": "object"
      },
      "PremiseListResponse": {
        "description": "Ответ списка помещений: массив items, total, page, page_size.",
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/PremiseListOut"
            },
            "title": "Items",
            "type": "array"
          },
          "total": {
            "title": "Total",
            "type": "integer"
          },
          "page": {
            "title": "Page",
            "type": "integer"
          },
          "page_size": {
            "title": "Page Size",
            "type": "integer"
          }
        },
        "required": [
          "items",
          "total",
          "page",
          "page_size"
        ],
        "title": "PremiseListResponse",
        "type": "object"
      },
      "PremiseMediaOut": {
        "description": "Медиа помещения: списки фото и видео.",
        "properties": {
          "photos": {
            "items": {
              "$ref": "#/components/schemas/MediaPhotoOut"
            },
            "title": "Photos",
            "type": "array"
          },
          "videos": {
            "items": {
              "$ref": "#/components/schemas/MediaVideoOut"
            },
            "title": "Videos",
            "type": "array"
          }
        },
        "required": [
          "photos",
          "videos"
        ],
        "title": "PremiseMediaOut",
        "type": "object"
      },
      "PremiseDetailOut": {
        "description": "Помещение: полная информация для страницы объекта (все поля списка + описание и доп. параметры).",
        "properties": {
          "uuid": {
            "title": "Uuid",
            "type": "string"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "price": {
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Price",
            "type": "string"
          },
          "address": {
            "title": "Address",
            "type": "string"
          },
          "floor": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Floor"
          },
          "area": {
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Area",
            "type": "string"
          },
          "has_tenant": {
            "title": "Has Tenant",
            "type": "boolean"
          },
          "media": {
            "$ref": "#/components/schemas/PremiseMediaOut"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "price_per_sqm": {
            "anyOf": [
              {
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Price Per Sqm"
          },
          "ceiling_height": {
            "anyOf": [
              {
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ceiling Height"
          },
          "has_windows": {
            "default": true,
            "title": "Has Windows",
            "type": "boolean"
          },
          "has_parking": {
            "default": false,
            "title": "Has Parking",
            "type": "boolean"
          },
          "is_furnished": {
            "default": false,
            "title": "Is Furnished",
            "type": "boolean"
          }
        },
        "required": [
          "uuid",
          "name",
          "price",
          "address",
          "area",
          "has_tenant",
          "media"
        ],
        "title": "PremiseDetailOut",
        "type": "object"
      }
    },
    "securitySchemes": {
      "JWTAuth": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  },
  "servers": []
}